<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>iPhone – Apple Store</title>

<style>
body{
  margin:0;
  font-family:-apple-system,BlinkMacSystemFont,"SF Pro Display","SF Pro Text",Arial;
  color:#1d1d1f;
}
nav{
  position:fixed;top:0;width:100%;
  background:rgba(255,255,255,.9);
  backdrop-filter:blur(20px);
  border-bottom:1px solid #eee;
}
nav .inner{
  max-width:1200px;margin:auto;
  padding:12px 20px;
  display:flex;justify-content:space-between;
}
.hero{
  height:100vh;display:flex;align-items:center;justify-content:center;
  text-align:center;padding-top:60px;
}
.hero img{width:420px;}
button{
  background:#0071e3;color:#fff;
  border:none;border-radius:999px;
  padding:12px 22px;cursor:pointer;
}
.products{
  max-width:1200px;margin:auto;
  padding:100px 20px;
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
  gap:40px;
}
.product{text-align:center;}
.product img{height:240px;object-fit:contain;}
.overlay{
  position:fixed;inset:0;
  background:rgba(0,0,0,.4);
  backdrop-filter:blur(20px);
  display:none;align-items:center;justify-content:center;
}
.modal{
  background:#fff;border-radius:24px;
  padding:30px;max-width:420px;width:90%;
}
.cart-item{
  display:flex;justify-content:space-between;
  margin:10px 0;
}
.total{font-weight:600;margin-top:20px;}
</style>
</head>

<body>

<nav>
  <div class="inner">
    <span> Apple</span>
    <span onclick="openCart()">Корзина (<span id="count">0</span>)</span>
  </div>
</nav>

<div class="hero">
  <div>
    <h1>iPhone 15 Pro</h1>
    <p>Титан. Камера. Мощь.</p>
    <img src="https://i.imgur.com/1Q9Z1Zm.png"><br><br>
    <button onclick="addItem('iPhone 15 Pro',119990)">Купить</button>
  </div>
</div>

<div class="products">
  <div class="product">
    <img src="https://i.imgur.com/1Q9Z1Zm.png">
    <h3>iPhone 15 Pro</h3>
    <p>119 990 ₽</p>
    <button onclick="addItem('iPhone 15 Pro',119990)">В корзину</button>
  </div>

  <div class="product">
    <img src="https://i.imgur.com/4nQZ6Gq.png">
    <h3>iPhone 15</h3>
    <p>89 990 ₽</p>
    <button onclick="addItem('iPhone 15',89990)">В корзину</button>
  </div>

  <div class="product">
    <img src="https://i.imgur.com/4G7G6yC.png">
    <h3>iPhone 14</h3>
    <p>74 990 ₽</p>
    <button onclick="addItem('iPhone 14',74990)">В корзину</button>
  </div>
</div>

<div class="overlay" id="cart">
  <div class="modal">
    <h3>Корзина</h3>
    <div id="items"></div>
    <div class="total">Итого: <span id="sum">0</span> ₽</div>
    <button style="width:100%;margin-top:20px" onclick="checkout()">Оформить заказ</button>
    <button style="width:100%;margin-top:10px;background:#aaa" onclick="closeCart()">Закрыть</button>
  </div>
</div>

<script>
let cart = JSON.parse(localStorage.getItem('cart')) || [];

function save(){
  localStorage.setItem('cart',JSON.stringify(cart));
  document.getElementById('count').innerText = cart.reduce((a,b)=>a+b.qty,0);
}

function addItem(name,price){
  let item = cart.find(i=>i.name===name);
  if(item) item.qty++;
  else cart.push({name,price,qty:1});
  save(); render(); openCart();
}

function render(){
  let items = document.getElementById('items');
  let sum = 0; items.innerHTML='';
  cart.forEach((i,idx)=>{
    sum += i.price*i.qty;
    items.innerHTML += `
      <div class="cart-item">
        ${i.name} × ${i.qty}
        <span onclick="remove(${idx})" style="cursor:pointer">✕</span>
      </div>`;
  });
  document.getElementById('sum').innerText = sum.toLocaleString();
}

function remove(i){ cart.splice(i,1); save(); render(); }

function openCart(){ render(); document.getElementById('cart').style.display='flex'; }
function closeCart(){ document.getElementById('cart').style.display='none'; }

function checkout(){
  alert('Заказ оформлен (визуально)');
  cart=[]; save(); render(); closeCart();
}

save();
</script>

</body>
</html>
