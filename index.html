<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Apple Store</title>

<style>
:root{
  --bg:#fff;
  --text:#1d1d1f;
  --gray:#86868b;
  --blue:#0071e3;
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family:-apple-system,BlinkMacSystemFont,"SF Pro Display","SF Pro Text",Arial;
  background:var(--bg);
  color:var(--text);
  overflow-x:hidden;
}

/* NAV */
nav{
  position:fixed;
  top:0;width:100%;
  background:rgba(255,255,255,.85);
  backdrop-filter:blur(20px);
  border-bottom:1px solid #eee;
  z-index:100;
}
nav .inner{
  max-width:1200px;
  margin:auto;
  padding:12px 20px;
  display:flex;
  justify-content:space-between;
}
nav span{cursor:pointer}

/* SECTIONS */
section{
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:120px 20px;
}
.inner{
  max-width:1200px;
  width:100%;
  text-align:center;
}

/* HERO */
.hero h1{
  font-size:72px;
  margin:0;
}
.hero p{
  font-size:24px;
  color:var(--gray);
}
.hero img{
  width:420px;
  margin-top:40px;
  transition:transform .2s;
}

/* BUTTON */
button{
  background:var(--blue);
  color:#fff;
  border:none;
  border-radius:999px;
  padding:14px 26px;
  font-size:16px;
  cursor:pointer;
}

/* GLASS CARD */
.glass{
  background:rgba(255,255,255,.6);
  backdrop-filter:blur(30px);
  border:1px solid rgba(255,255,255,.4);
  border-radius:30px;
  padding:40px;
  margin:20px auto;
  max-width:520px;
}

/* REVEAL */
.reveal{
  opacity:0;
  transform:translateY(40px);
  transition:1s;
}
.reveal.show{
  opacity:1;
  transform:none;
}

/* CONFIG */
.options button{
  margin:6px;
  background:#f5f5f7;
  color:#000;
}
.options button.active{
  outline:2px solid var(--blue);
}

/* OVERLAY */
.overlay{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.45);
  backdrop-filter:blur(20px);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:200;
}
.modal{
  background:#fff;
  border-radius:30px;
  padding:40px;
  width:90%;
  max-width:420px;
  text-align:center;
}
</style>
</head>

<body>

<nav>
  <div class="inner">
    <span>Ô£ø Apple</span>
    <span onclick="openCart()">–ö–æ—Ä–∑–∏–Ω–∞ (<span id="count">0</span>)</span>
  </div>
</nav>

<!-- ONBOARDING -->
<section class="hero">
  <div class="inner">
    <h1 class="reveal">Apple Store</h1>
    <p class="reveal">–ù–æ–≤—ã–π —Å–ø–æ—Å–æ–± –≤—ã–±—Ä–∞—Ç—å iPhone</p>
    <img id="heroPhone" class="reveal" src="https://i.imgur.com/1Q9Z1Zm.png">
  </div>
</section>

<!-- PRODUCT STORY -->
<section>
  <div class="inner glass reveal">
    <h2>iPhone 15 Pro</h2>
    <p>–¢–∏—Ç–∞–Ω. –ö–∞–º–µ—Ä–∞. –ú–æ—â—å.</p>
  </div>
</section>

<!-- CONFIGURATOR -->
<section>
  <div class="inner glass reveal">
    <h2>–°–æ–±–µ—Ä–∏—Ç–µ —Å–≤–æ–π iPhone</h2>

    <h3>–¶–≤–µ—Ç</h3>
    <div class="options">
      <button onclick="setColor(this,'–¢–∏—Ç–∞–Ω–æ–≤—ã–π')">–¢–∏—Ç–∞–Ω–æ–≤—ã–π</button>
      <button onclick="setColor(this,'–ß—ë—Ä–Ω—ã–π')">–ß—ë—Ä–Ω—ã–π</button>
      <button onclick="setColor(this,'–ë–µ–ª—ã–π')">–ë–µ–ª—ã–π</button>
    </div>

    <h3>–ü–∞–º—è—Ç—å</h3>
    <div class="options">
      <button onclick="setStorage(this,128)">128 –ì–ë</button>
      <button onclick="setStorage(this,256)">256 –ì–ë</button>
      <button onclick="setStorage(this,512)">512 –ì–ë</button>
    </div>

    <h2 id="price">119 990 ‚ÇΩ</h2>
    <button onclick="addToCart()">–î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É</button>
  </div>
</section>

<!-- CHECKOUT -->
<section>
  <div class="inner glass reveal">
    <h2>–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ</h2>
    <p>–û–ø–ª–∞—Ç–∞ –±—É–¥–µ—Ç –Ω–∞ —Å–ª–µ–¥—É—é—â–µ–º —ç—Ç–∞–ø–µ üçé</p>
    <button onclick="openCart()">–ü–µ—Ä–µ–π—Ç–∏ –≤ –∫–æ—Ä–∑–∏–Ω—É</button>
  </div>
</section>

<!-- CART -->
<div class="overlay" id="cart">
  <div class="modal">
    <h2>–ö–æ—Ä–∑–∏–Ω–∞</h2>
    <div id="items"></div>
    <button onclick="finish()">–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑</button>
  </div>
</div>

<script>
let cart = JSON.parse(localStorage.getItem('cart')) || [];
let color='–¢–∏—Ç–∞–Ω–æ–≤—ã–π';
let storage=128;
let base=119990;

function updatePrice(){
  let extra = storage===256?20000:storage===512?40000:0;
  document.getElementById('price').innerText=(base+extra).toLocaleString()+' ‚ÇΩ';
}

function setColor(btn,val){
  color=val;
  btn.parentElement.querySelectorAll('button').forEach(b=>b.classList.remove('active'));
  btn.classList.add('active');
}
function setStorage(btn,val){
  storage=val;
  btn.parentElement.querySelectorAll('button').forEach(b=>b.classList.remove('active'));
  btn.classList.add('active');
  updatePrice();
}

function addToCart(){
  cart.push(`iPhone 15 Pro ‚Äî ${color}, ${storage} –ì–ë`);
  localStorage.setItem('cart',JSON.stringify(cart));
  document.getElementById('count').innerText=cart.length;
}

function openCart(){
  let box=document.getElementById('items');
  box.innerHTML='';
  cart.forEach(i=>box.innerHTML+=i+'<br>');
  document.getElementById('cart').style.display='flex';
}
function finish(){
  alert('–ó–∞–∫–∞–∑ –æ—Ñ–æ—Ä–º–ª–µ–Ω üçé (–≤–∏–∑—É–∞–ª—å–Ω–æ)');
  cart=[];
  localStorage.clear();
  location.reload();
}

/* REVEAL */
const obs=new IntersectionObserver(e=>{
  e.forEach(x=>x.isIntersecting&&x.target.classList.add('show'));
},{threshold:.3});
document.querySelectorAll('.reveal').forEach(el=>obs.observe(el));

/* PARALLAX */
window.addEventListener('scroll',()=>{
  document.getElementById('heroPhone').style.transform=
    `translateY(${window.scrollY*0.15}px)`;
});

document.getElementById('count').innerText=cart.length;
</script>

</body>
</html>
